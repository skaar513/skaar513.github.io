<!DOCTYPE html>
<html lang=en>
<head>
	<title>Home</title>
	<link rel=stylesheet href=css/homepage.css />
	<link rel=icon href=nixos.svg />
	<meta charset=UTF-8 />
	<meta name="viewport" content="width=device-width, initial-scale=1.0" />
</head>

<body>
<div class=mainContainer>
	<h1 id=heading>Home Page</h1>	

	<div class=searchContainer>
	<input id=searchInput placeholder="Search something with ..." />
	<button id=searchButton onclick="search()">Search</button>
	</div>
	<button id=toggleContainer onclick="toggleEngine()"><span id=toggleEngine></span><span id=toggleBrief></span></button>

	<div class=dividercontainer>
	<i class=dividerx1>⨯</i><hr><i class=dividerx2>⨯</i><hr><i class=dividerx3>⨯</i>
	</div>

	<div>
	<h2 id=subHeading>Bookmarks</h2>
	<ul>

	<h3 id=subHeading1>Webpages</h3>
	<ul class=maintext>
	<li><a href=index.html>Great Movies</a></li>
	<li><a href=https://github.com>Github Repositories</a></li>
	</ul>

	<h3 id=subHeading2>Manual</h3>
	<ul class=maintext>
	<li><a href=https://github.com/kyoz/iquotes/tree/master/quotes>Quotes</a></li>
	<li><a href=https://elkowar.github.io/eww>Eww - ElKowar's Wacky Widgets</a></li>
	<li><a href=https://gnu.org>GNU</a></li>
	</ul>

	</ul>

	<div class=dividercontainer>
	<i class=dividerx1>⨯</i><hr><i class=dividerx2>⨯</i><hr><i class=dividerx3>⨯</i>
	</div>

	</div>

<h2 class=aboutsubheading>note</h2>
<p class=abouttext>
Tip: Pressing Alt+Tab (or clicking the engine's info itself) while the search box is focused cycles through the stored engines
</p>

</div>
</body>

<script>
	const engine0 = { name:"DuckDuckGo", brief:"A (Supposedly) Privacy Respecting Search Engine", color:"#FBE091", url:"www.duckduckgo.com/?q=" }
	const engine1 = { name:"SearX", brief:"A Decentralized MetaSearch Engine", color:"#8AE29D", url:"search.ononoki.org/search?q=" }
	const engine2 = { name:"ArchWiki", brief:"The Biggest Wiki For Linux Users", color:"#A8BEFB", url:"wiki.archlinux.org/index.php?search=" }
	const engine3 = { name:"YouTube", brief:"A non-free video-sharing/social-media site", color:"#FC8A84", url:"youtube.com/results?search_query=" }
	const allEngines = [ engine0, engine1, engine2, engine3 ];
	
	var activeEngine, url;
	var x = -1;

	function toggleEngine() { x = (x == allEngines.length - 1) ? -1:x; 
		x = x + 1;
		activeEngine = allEngines[+x];
		document.getElementById('toggleEngine').style.color = activeEngine.color;
		document.getElementById('toggleEngine').innerHTML = activeEngine.name;
		document.getElementById('toggleBrief').innerHTML = activeEngine.brief;
		url = activeEngine.url; 
		document.getElementById('searchInput').focus() };

	toggleEngine();

	function search() {let realVal = document.getElementById('searchInput').value.replace("%","%25").replace(/#/g,"%23").replace(/&/g,"%26").replaceAll("+","%2B").replace("/","%2F").replace("?","%3F").replace("=","%3d").replace("_","%5F");
			let noSpaceVal = realVal.replace(/\s/g, "");
			{if (noSpaceVal == "") {window.location.reload(false);} else {window.open("https://" + url + realVal, "_self");}
				}
				  };

	document.getElementById("searchInput").addEventListener("keydown", event =>
			{ if (event.keyCode == 13) search();
			else if (event.keyCode == 9) toggleEngine(); });
</script>
</html>
