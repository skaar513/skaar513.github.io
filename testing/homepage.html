<!DOCTYPE html>
<html lang=en>
<head>
	<title>New Tab</title>
	<link rel=stylesheet href=css/homepage.css />
	<link rel=icon href=imgs/search3.svg />
	<meta charset=UTF-8 />
	<meta name="viewport" content="width=device-width, initial-scale=1.0" />
</head>

<body>
<div class=mainContainer>
	<img src=imgs/boseman.jpg height=220px />
	<div class=noImg>
	<div class=searchContainer>
	<input id=searchInput autocomplete=off />
	<button class="material-icons" id=clearButton onclick="clearInput()">close</button>
	<button class="material-icons" id=searchButton onclick="search()">search</button>
	</div>
	<div class=noSearchbar>
	<div id=toggleContainer>
		<span class=buttonWrapper><button onclick="toggleEngine()" title="Toggle Engine" id=toggleButton class="material-icons">loop</button></span>
		<span class=buttonWrapper><button onclick="editBookmarks()" title="Edit Bookmarks" id=editButton class="material-icons">edit</button></span>
		<span class=buttonWrapper><button onclick="editSettings()" title="Edit Engines" id=settingsButton class="material-icons">settings</button></span>
	</div>
	<div class=bookmarks>
		<div class="bookmark">
		<a class="heading heading1">Web</a><br>
		<div class=links>
		<div>
		<a href=https://www.w3.org/2009/cheatsheet/ class=link>apropos</a><br>
		<a href=https://feathericons.com class=link>feather</a><br>
		<a href=https://developer.mozilla.org/docs/web class=link>mozilla</a><br>
		</div>
		</div>
		</div>
		<div class="bookmark">
		<a class="heading heading2">Movies</a><br>
		<div class=links>
		<div>
		<a href=../index.html class=link>movies</a><br>
		<a href=https://github.com/kyoz/iquotes/tree/master/quotes class=link>quotes</a><br>
		</div>
		</div>
		</div>
		<div class="bookmark">
		<a class="heading heading3">New</a><br>
		<div class=links>
		<div>
		<a href=https://xmpp.org class=link>xmpp</a><br>
		<a href=https://elkowar.github.io/eww class=link>eww</a><br>
		<a href=https://videos.lukesmith.xyz class=link>luke</a><br>
		</div>
		</div>
		</div>
	</div>
	</div>

	<!--div class=dividercontainer>
	<span class="material-icons dividerx1" style="font-style: bold;">close</span><hr><span class="material-icons dividerx2">close</span><hr><span class="material-icons dividerx3">close</span>
	</div>

	<div>
	<h2 id=subHeading>Bookmarks</h2>
	<ul>

	<h3 id=subHeading1>Webpages</h3>
	<ul class=maintext>
	<li><a href=index.html>Great Movies</a></li>
	<li><a href=https://github.com>Github Repositories</a></li>
	</ul>

	<h3 id=subHeading2>Manual</h3>
	<ul class=maintext>
	<li><a href=https://github.com/kyoz/iquotes/tree/master/quotes>Quotes</a></li>
	<li><a href=https://elkowar.github.io/eww>Eww - ElKowar's Wacky Widgets</a></li>
	<li><a href=https://gnu.org>GNU</a></li>
	</ul>

	</ul>

	<div class=dividercontainer-->
	<!--i class=dividerx1>тип</i><hr><i class=dividerx2>тип</i><hr><i class=dividerx3>тип</i-->
	<!--span class="material-icons dividerx1">close</span><hr><span class="material-icons dividerx2">close</span><hr><span class="material-icons dividerx3">close</span>
	</div>

	</div>

<h2 class=aboutsubheading>note</h2>
<p class=abouttext>
<span class=hideonphone>Tip: Pressing Alt+Tab while the search box is focused cycles through the stored engines</span><br>
Tip: Clicking on the Engine's info <span class=hideonphone>also</span> cycles through the stored engines
</p-->

	</div>
</div>
</body>

<script src=json/homepage.js></script>
<script>
	var activeEngine, url;
	var x = -1;

	function toggleEngine() { x = (x == allEngines.length - 1) ? -1:x; 
		x = x + 1;
		activeEngine = allEngines[x];
//		document.getElementById('toggleButton').style.color = activeEngine.color;
		document.getElementById('searchInput').placeholder = "Search with " + activeEngine.name;
		url = activeEngine.url; 
		document.getElementById('searchInput').focus(); };

	function search() {let realVal = document.getElementById('searchInput').value.replace("%","%25").replace(/#/g,"%23").replace(/&/g,"%26").replaceAll("+","%2B").replace("/","%2F").replace("?","%3F").replace("=","%3d").replace("_","%5F").replace(/:/g,"%3A");
			let noSpaceVal = realVal.replace(/\s/g, "");
			{if (noSpaceVal == "") {window.location.reload(false);} else {window.open("https://" + url + realVal, "_self");}
				}
				  };
	function clearInput() { document.getElementById("searchInput").value = "";
				document.getElementById('searchInput').focus();
				hideClearButton(); };

	toggleEngine();

	document.getElementById("searchInput").addEventListener("keydown", event =>
			{ if (event.key == "Enter") search(); // keycode 13
			else if (event.altKey && event.key == "Tab") toggleEngine(); }); // keycode 9

	document.getElementById("searchInput").addEventListener("input", hideClearButton);
	function hideClearButton() {
			document.getElementById("clearButton").style.display = (document.getElementById("searchInput").value == "") ? "none":"inline";
		};

// Reduces the length of inputbox placeholder if device is narrow
document.getElementById("searchInput").placeholder = (window.matchMedia("(max-width: 5in)").matches) ? "Search with ...":document.getElementById("searchInput").placeholder;
</script>
</html>
